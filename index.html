<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ashley's 21st Birthday</title>
  <link href="./output.css" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <audio id="background-audio" loop>
    <source src="music\Liv Dawson - Pushing 21.mp3" type="audio/mpeg">
  </audio>
  <button id="sound-toggle" class="sound-toggle">
    <img id="sound-icon" src="images\volume.png" alt="Sound Toggle" />
  </button>

  <div class="container">
    <div class="page">
      <div class="background1">
        <div class="page1">
          <div class="TopContainer">
            <a class="uRInvited animate-on-scroll">You're invited!</a>
            <h1 class="Officially21 animate-on-scroll">Officially 21</h1>
          </div>
          <div class="MiddleContainer">
            <div class="imageContainer">
              <img src="images/Head.jpeg" alt="Image for Page 1" class="animate-on-scroll" />
            </div>
            <a class="name animate-on-scroll">Ashley Chai</a>
            <a class="desc animate-on-scroll">Cheers to 21 years! <br>Join me in celebrating this once-in-a-lifetime milestone!</a>
          </div>
          <div class="BottomContainer">
            <p class="details animate-on-scroll">26/12/2024</p>
            <p class="details2 animate-on-scroll">Stay at AquaVista Homes</p>
            <p class="details3 animate-on-scroll">
              5 Jalan NPT 7/1L<br />
              Reflexion @ Taman Nusaputra Timur<br />
              47130 Puchong Selangor
            </p>
            <div class="InvitationBorder">
              <p class="details4 animate-on-scroll">Invitation</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="page" id="page2">
      <div class="background2">
        <div class="textContainer">
          <h1 class="animate-on-scroll animate-h1">Arrive Early, Celebrate Longer</h1>
          <div class="stickers animate-on-scroll animate-stickers">ðŸŒŸðŸŽ‰âœ¨</div>
          <p class="animate-on-scroll animate-p">
            The partyâ€™s start at 7:30pm, and you wonâ€™t want to miss a minute of the fun! Be there on time and letâ€™s make my
            21st unforgettable!
          </p>
          <div class="BoxContainer">
            <div class="page2Content">
              <div class="countdownContainer animate-on-scroll animate-countdown">
                <div class="countdown" id="countdown"></div>
              </div>
              <div class="calendar animate-on-scroll animate-calendar">
                <img src="images/calendar.png" alt="Calendar Image" />
                <div class="imageContainer5"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="page" id="page3">
      <div class="background3">
        <div class="textContainer2">
          <div class="topContainer">
            <h1 class="Barbie animate-on-scroll animate-barbie">Barbie's Night Out</h1>
            <p class="descriptionBarbie animate-on-scroll animate-descriptionBarbie">Weâ€™re taking over the night in pink!</p>
            <p class="descriptionBarbie2 animate-on-scroll animate-descriptionBarbie2">Everyoneâ€”ladies and gents, join the Barbie vibes by showing up in your favorite shade of pink or a combo of pink and white!</p>
            <div class="imageContainer2 animate-on-scroll animate-imageContainer2">
              <img src="images/Outfit (1).jpeg" alt="Image for Page 4" />
            </div>
            <div class="imageContainer3 animate-on-scroll animate-imageContainer3">
              <img src="images/Outfit (3).jpeg" alt="Image for Page 4" />
            </div>
          </div>
          <div class="bottomCcontainer">
            <h1 class="Pool animate-on-scroll animate-pool">Ready, Set, Pool!</h1>
            <p class="poolDesc animate-on-scroll animate-poolDesc">Our Airbnb has a pool, so feel free to bring sporty clothes for a <br>splash â€”no need for proper swimwear, but please avoid cotton clothing.</p>
            <p class="poolDesc2 animate-on-scroll animate-poolDesc2">If you plan to sleep over, bring along your towels and overnight essentials tooâ€”let's make it a splash and a cozy stay!</p>
          </div>
        </div>
      </div>
    </div>


    <div class="page" id="page4">
      <div class="background4">
        <div class="textContainer3">
          <h1 class="Christmas animate-on-scroll animate-christmas">Celebrate with a Gift Exchange!</h1>
          <div class="imageContainer4 animate-on-scroll animate-imageContainer4">
            <img src="images/Christmas.jpeg" />
          </div>
          <p class="DesChris animate-on-scroll animate-desChris">Since itâ€™s the Christmas season, letâ€™s add a little extra cheer with a Christmas Gift Exchange! December wouldnâ€™t be complete without a gift swap, so bring a small gift <a>(minimum RM20)</a> to celebrate the joy of giving and add some sparkle to the nightâ€”itâ€™s not just a party; itâ€™s a time for sharing and surprises.</p>
        </div>
      </div>
    </div>

    <div class="page" id="page5">
      <div class="formContainer">
      <iframe src="https://forms.gle/pftNDGKTz9aiXu81A" >Loadingâ€¦</iframe>
      </div>
    </div>
  </div>

  <script>
    var countDownDate = new Date("Dec 26, 2024 19:30:00").getTime();


    var x = setInterval(function () {
      var now = new Date().getTime();
      var distance = countDownDate - now;
      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

      document.getElementById("countdown").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

      if (distance < 0) {
        clearInterval(x);
        document.getElementById("countdown").innerHTML = "EXPIRED";
      }
    }, 1000);

    let currentPage = 0;
    const pages = document.querySelectorAll('.page');
    let isScrolling = false;

    function scrollToPage(pageIndex) {
      if (pageIndex >= 0 && pageIndex < pages.length) {
        pages[pageIndex].scrollIntoView({ behavior: 'smooth' });
        currentPage = pageIndex;
        isScrolling = true;
        setTimeout(() => isScrolling = false, 800);
      }
    }

    window.addEventListener('wheel', (event) => {
      if (!isScrolling) {
        if (event.deltaY > 0) {
          scrollToPage(currentPage + 1);
        } else {
          scrollToPage(currentPage - 1);
        }
      }
    });

    window.addEventListener('keydown', (event) => {
      if (!isScrolling) {
        if (event.key === 'ArrowDown') {
          scrollToPage(currentPage + 1);
        } else if (event.key === 'ArrowUp') {
          scrollToPage(currentPage - 1);
        }
      }
    });

    document.addEventListener("DOMContentLoaded", () => {
  const animatedElements = document.querySelectorAll(".animate-on-scroll");

  const observerOptions = {
    root: null,
    threshold: 0.2, // Trigger when 20% of the element is visible
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.add("animate");
      } else {
        entry.target.classList.remove("animate"); // Reset animation when out of view
      }
    });
  }, observerOptions);

  animatedElements.forEach((element) => observer.observe(element));
});

document.addEventListener('DOMContentLoaded', () => {
  const audio = document.getElementById('background-audio');
  const soundToggleButton = document.getElementById('sound-toggle');
  const soundIcon = document.getElementById('sound-icon');

  // Play the audio when the page loads
  function playAudio() {
    audio.play().catch(error => {
      console.log('Audio play failed', error);
    });
  }

  // Add an observer to play audio on scroll/animation triggers
  let isAudioPlaying = false;
  const observerOptions = {
    root: null,
    threshold: 0.2,
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting && !isAudioPlaying) {
        playAudio();
        isAudioPlaying = true;
      }
    });
  }, observerOptions);

  document.querySelectorAll('.animate-on-scroll').forEach((element) => {
    observer.observe(element);
  });

  // Toggle audio on button click and change the icon
  soundToggleButton.addEventListener('click', () => {
    if (audio.paused) {
      audio.play();
      soundIcon.src = 'images/volume.png'; // Path to "sound on" icon
    } else {
      audio.pause();
      soundIcon.src = 'images/mute.png'; // Path to "sound off" icon
    }
  });
});

  </script>
</body>

</html>